<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Platformstudentctg</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet" />
  <link rel="icon" href="/favicon.ico" />

  <meta name="description" content="Platformstudentctg conecta proyectos con patrocinadores." />
  <meta name="keywords" content="estudiantes, proyectos, patrocinadores" />

  <style>
    body {
      font-family: 'Inter', sans-serif;
      scroll-behavior: smooth;
    }
  </style>
</head>
<body class="bg-white text-gray-800">
  <!-- HEADER -->
  <header class="flex justify-between items-center px-6 py-4 shadow-md sticky top-0 bg-white z-50">
    <div data-section="landing" class="text-xl font-bold text-blue-700 cursor-pointer nav-link">Platformstudentctg</div>
    <nav class="flex gap-6 items-center">
      <button data-section="about" class="scroll-link text-sm text-gray-700 hover:underline nav-link">¿Qué hacemos?</button>
      <button data-section="projects" class="scroll-link text-sm text-gray-700 hover:underline nav-link">Proyectos</button>
      <button data-section="contact" class="scroll-link text-sm text-gray-700 hover:underline nav-link">Contáctanos</button>
      <!-- Botón "Crear campaña" visible solo para usuarios autenticados (se mostrará mediante JS) -->
      <button id="createCampaignBtn" data-section="student-panel" class="hidden scroll-link text-sm text-gray-700 hover:underline nav-link">Crear campaña</button>
      <div id="userBox" class="hidden relative">
        <button id="userMenuBtn" class="text-sm text-blue-700 font-semibold flex items-center gap-2">
          <span id="userNameLabel"></span>
          <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path d="M19 9l-7 7-7-7" stroke-linecap="round" stroke-linejoin="round"></path>
          </svg>
        </button>
        <div id="userDropdown" class="absolute right-0 mt-2 bg-white border rounded shadow-md w-48 hidden z-50 p-4">
          <p class="text-sm text-gray-700 font-semibold" id="userEmailLabel"></p>
          <button id="profileConfigBtn" class="w-full text-sm text-blue-600 hover:underline mb-2">Configuración de Perfil</button>
          <button id="logoutBtn" class="mt-2 bg-red-500 hover:bg-red-600 text-white text-sm px-3 py-1 rounded w-full">Cerrar sesión</button>
        </div>
      </div>
    </nav>
    <div id="authButtons" class="flex gap-2">
      <button id="loginBtn" class="bg-blue-600 text-white px-4 py-2 rounded">Iniciar sesión</button>
      <button id="registerBtn" class="border border-blue-600 text-blue-600 px-4 py-2 rounded">Registrarse</button>
    </div>
  </header>

  <!-- CONTENIDO PRINCIPAL -->
  <main>
    <!-- LANDING -->
    <section id="landing" class="text-center py-20 px-4">
      <h1 class="text-4xl font-bold mb-4">Una plataforma para estudiantes innovadores</h1>
      <p class="max-w-2xl mx-auto mb-6 text-lg">Conecta tus ideas académicas con quienes quieren hacerlas realidad.</p>
      <button id="discoverBtn" class="bg-black text-white px-6 py-3 rounded hover:bg-gray-800">Descubre más</button>
    </section>

    <!-- ¿QUÉ HACEMOS? -->
    <section id="about" class="mt-24 p-6 max-w-4xl mx-auto bg-gray-50 rounded shadow">
      <h2 class="text-2xl font-semibold mb-2 text-blue-700">¿Qué hacemos?</h2>
      <p class="text-gray-700">Facilitamos la visibilidad de proyectos académicos, la conexión con patrocinadores y el acceso a recursos para crecer.</p>
    </section>

    <!-- PROYECTOS -->
    <section id="projects" class="mt-24 p-6 max-w-4xl mx-auto bg-gray-50 rounded shadow">
      <h2 class="text-2xl font-semibold mb-2 text-blue-700">Proyectos Disponibles</h2>
      <p class="text-gray-600">Aquí se mostrarán los proyectos académicos subidos por estudiantes.</p>
      <div id="publicList" class="grid gap-6 mt-6"></div>
    </section>

    <!-- CONTACTO -->
    <section id="contact" class="mt-24 p-6 max-w-4xl mx-auto bg-gray-50 rounded shadow">
      <h2 class="text-2xl font-semibold mb-2 text-blue-700">Contáctanos</h2>
      <p class="text-gray-700 mb-2">📧 Correo: contacto@platformstudentctg.com</p>
      <p class="text-gray-700">
        🌐 Redes sociales:
        <a href="#" class="text-blue-600 underline">Instagram</a>,
        <a href="#" class="text-blue-600 underline">LinkedIn</a>
      </p>
    </section>

    <!-- LOGIN -->
    <section id="login" class="hidden max-w-md mx-auto mt-10 p-6 bg-white rounded shadow-lg border">
      <h2 class="text-2xl font-bold text-center mb-6 text-gray-800">Inicia sesión en Platformstudentctg</h2>
      <form id="loginForm" class="space-y-4">
        <input name="username" type="email" placeholder="Correo electrónico" required class="w-full px-4 py-3 border rounded-md"/>
        <input name="password" type="password" placeholder="Contraseña" required class="w-full px-4 py-3 border rounded-md"/>
        <button type="submit" class="w-full bg-green-600 text-white font-semibold py-2 rounded hover:bg-green-700">Continuar</button>
      </form>
      <div class="flex items-center my-4">
        <hr class="flex-1 border-t"/>
        <span class="mx-2 text-sm text-gray-400">o</span>
        <hr class="flex-1 border-t"/>
      </div>
      <button id="googleBtn" type="button" class="w-full flex items-center justify-center gap-2 bg-blue-600 text-white py-2 rounded hover:bg-blue-700">
        <img src="https://www.svgrepo.com/show/475656/google-color.svg" alt="Google" class="w-5 h-5"/>
        Continuar con Google
      </button>
    </section>

    <!-- REGISTRO -->
    <section id="register" class="hidden max-w-md mx-auto mt-10 p-6 bg-white rounded shadow-lg border">
      <h2 class="text-2xl font-bold text-center mb-6 text-gray-800">Crea tu cuenta</h2>
      <form id="registerForm" class="space-y-4">
        <input name="username" type="text" placeholder="Nombre completo" required class="w-full px-4 py-3 border rounded-md"/>
        <input name="email" type="email" placeholder="Correo electrónico" required class="w-full px-4 py-3 border rounded-md"/>
        <input name="password" type="password" placeholder="Contraseña segura" required class="w-full px-4 py-3 border rounded-md"/>
        <select name="role" class="w-full px-4 py-3 border rounded-md text-gray-700">
          <option value="estudiante">Estudiante</option>
          <option value="patrocinador">Patrocinador</option>
        </select>
        <button type="submit" class="w-full bg-green-600 text-white font-semibold py-2 rounded hover:bg-green-700">Registrarme</button>
      </form>
    </section>

    <!-- PANEL DEL ESTUDIANTE: Solo visible cuando sesión iniciada -->
    <section id="student-panel" class="hidden max-w-4xl mx-auto mt-10 p-6 bg-white rounded shadow-lg">
      <h2 class="text-3xl font-bold mb-4">Panel del Estudiante</h2>
      
      <!-- Listado de Campañas de otros estudiantes -->
      <div class="mb-8">
        <h3 class="text-2xl font-semibold mb-2">Campañas de otros estudiantes</h3>
        <div id="public-campaigns" class="grid gap-4">
          <!-- Se renderizarán las campañas públicas de otros -->
        </div>
      </div>
      
      <!-- Listado de Mis Campañas -->
      <div class="mb-8">
        <h3 class="text-2xl font-semibold mb-2">Mis Campañas</h3>
        <div id="my-campaigns" class="grid gap-4">
          <!-- Se renderizarán las campañas propias del usuario -->
        </div>
      </div>
      
      <!-- Módulo para Crear Campaña (Formulario Extendido) -->
      <div id="create-campaign-module">
        <h3 class="text-2xl font-semibold mb-2">Crear Campaña</h3>
        <p class="mb-2 text-sm text-gray-600">
          Ingresa todos los datos de tu emprendimiento. La campaña se guardará como privada y se podrá publicar al pagar la suscripción mensual.
        </p>
        <div id="campaign-form-container">
          <form id="campaign-form" class="space-y-4">
            <div>
              <label for="campaign-title" class="block font-semibold">Título</label>
              <input type="text" id="campaign-title" name="title" class="w-full border p-2 rounded" required>
            </div>
            <div>
              <label for="campaign-description" class="block font-semibold">Descripción</label>
              <textarea id="campaign-description" name="description" class="w-full border p-2 rounded" required></textarea>
            </div>
            <div>
              <label for="campaign-goal" class="block font-semibold">Meta (COP)</label>
              <input type="number" id="campaign-goal" name="goal" class="w-full border p-2 rounded" required>
            </div>
            <div>
              <label for="campaign-image" class="block font-semibold">Imagen</label>
              <input type="text" id="campaign-image" name="image" placeholder="URL de la imagen" class="w-full border p-2 rounded" required>
            </div>
            <div>
              <label for="campaign-video" class="block font-semibold">Video</label>
              <input type="text" id="campaign-video" name="video" placeholder="URL del video (opcional)" class="w-full border p-2 rounded">
            </div>
            <div>
              <label for="campaign-sector" class="block font-semibold">Sector</label>
              <input type="text" id="campaign-sector" name="sector" placeholder="Sector del emprendimiento" class="w-full border p-2 rounded" required>
            </div>
            <div>
              <label for="campaign-anio" class="block font-semibold">Año de Inicio</label>
              <input type="number" id="campaign-anio" name="anio" placeholder="Año de inicio" class="w-full border p-2 rounded" required>
            </div>
            <div>
              <label for="campaign-web" class="block font-semibold">Sitio Web</label>
              <input type="text" id="campaign-web" name="web" placeholder="URL del sitio web (opcional)" class="w-full border p-2 rounded">
            </div>
            <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded">
              Crear Campaña
            </button>
          </form>
        </div>
      </div>
    </section>

    <!-- CONFIGURACIÓN DE PERFIL -->
    <section id="profile-config" class="hidden max-w-md mx-auto mt-10 p-6 bg-white rounded shadow-lg border">
      <h2 class="text-2xl font-bold text-center mb-6 text-gray-800">Configuración de Perfil</h2>
      <form id="profile-form" class="space-y-4">
        <div>
          <label for="profile-nombres" class="block font-semibold">Nombres</label>
          <input type="text" id="profile-nombres" name="nombres" class="w-full border p-2 rounded" required>
        </div>
        <div>
          <label for="profile-apellidos" class="block font-semibold">Apellidos</label>
          <input type="text" id="profile-apellidos" name="apellidos" class="w-full border p-2 rounded" required>
        </div>
        <div>
          <label for="profile-fecha-nac" class="block font-semibold">Fecha de Nacimiento</label>
          <input type="date" id="profile-fecha-nac" name="fechaNacimiento" class="w-full border p-2 rounded" required>
        </div>
        <div>
          <label for="profile-institucion" class="block font-semibold">Institución</label>
          <input type="text" id="profile-institucion" name="institucion" placeholder="Empresa o Universidad" class="w-full border p-2 rounded" required>
        </div>
        <div>
          <label for="profile-metodos-pago" class="block font-semibold">Métodos de Pago</label>
          <input type="text" id="profile-metodos-pago" name="metodosPago" placeholder="Datos de tus métodos de pago" class="w-full border p-2 rounded">
        </div>
        <button type="submit" class="w-full bg-green-600 text-white font-semibold py-2 rounded hover:bg-green-700">
          Actualizar Perfil
        </button>
      </form>
    </section>
    
  </main>

  <!-- MODAL: Selección de Rol (para usuarios sin rol definido, ej. Google) -->
  <div id="roleSelectionModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center">
    <div class="bg-white p-6 rounded max-w-sm w-full shadow-lg text-center">
      <h3 class="text-xl font-semibold mb-4">Selecciona tu rol</h3>
      <p class="mb-4 text-sm text-gray-600">Por favor, indica si eres Estudiante o Patrocinador.</p>
      <div class="flex justify-center gap-4">
        <button id="selectEstudianteBtn" class="bg-blue-600 text-white px-4 py-2 rounded">Estudiante</button>
        <button id="selectPatrocinadorBtn" class="bg-green-600 text-white px-4 py-2 rounded">Patrocinador</button>
      </div>
    </div>
  </div>

  <!-- MODAL: Postulación a un Proyecto -->
  <div id="projectModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center">
    <div class="bg-white p-6 rounded max-w-md w-full shadow-lg">
      <h3 class="text-xl font-semibold mb-2">Postularme al Proyecto</h3>
      <textarea id="applyMessage" rows="4" placeholder="Escribe un mensaje al creador" class="w-full border p-2 rounded"></textarea>
      <div class="flex justify-end mt-4 gap-2">
        <button id="cancelModalBtn" type="button" class="text-gray-600 border px-4 py-2 rounded">Cancelar</button>
        <button id="applyBtn" type="button" class="bg-blue-600 text-white px-4 py-2 rounded">Enviar</button>
      </div>
    </div>
  </div>

  <!-- FOOTER -->
  <footer class="text-center py-4 mt-20 text-sm text-gray-500">
    &copy; 2025 Platformstudentctg. Todos los derechos reservados.
  </footer>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/10.4.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.4.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.4.0/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.4.0/firebase-storage-compat.js"></script>
  <!-- Script de la aplicación (asegúrate de que app.js esté en la misma carpeta) -->
  <script src="app.js"></script>
</body>
</html>
